(function(){"use strict";function h(t,o,n){let i=n[o];n[o]=n[t],n[t]=i}function S(t){const o=[{type:"INIT",arr:[...t]}];for(let n=0;n<t.length-1;n++){let i=!1;for(let e=0;e<t.length-n-1;e++)o.push({type:"COMP",i1:e+1,i2:e,arr:[...t]}),t[e+1]<t[e]&&(i=!0,h(e+1,e,t),o.push({type:"SWAP",i1:e+1,i2:e,arr:[...t]}));if(!i)break}return o}function I(t){const o=[{type:"INIT",arr:[...t]}];for(let n=0;n<t.length-1;n++){let i=n;for(let e=n+1;e<t.length;e++)o.push({type:"COMP",i1:e,i2:i,arr:[...t]}),t[e]<t[i]&&(i=e);n!==i&&(h(n,i,t),o.push({type:"SWAP",i1:n,i2:i,arr:[...t]}))}return o}function g(t){const o=[{type:"INIT",arr:[...t]}];for(let n=1;n<t.length;n++){let i=t[n],e=n-1;for(;e>=0&&t[e]>i;)t[e+1]=t[e],o.push({type:"SWAP",i1:e+1,i2:e,arr:[...t]}),e--;t[e+1]=i,o.push({type:"SWAP",i1:e+1,i2:n,arr:[...t]})}return o}function M(t){const o=[{type:"INIT",arr:[...t]}];function n(e,u,r){let p=Math.floor((u+r)*.5);for(;;){const c=e[p];let l=u,s=r;for(;e[l]<c;)l++,o.push({type:"COMP",i1:l,i2:p,arr:[...e]});for(;e[s]>c;)s--,o.push({type:"COMP",i1:s,i2:p,arr:[...e]});if(l<s)h(l,s,e),o.push({type:"SWAP",i1:l,i2:s,arr:[...e]});else{p=s;break}}return p}function i(e,u,r){if(u<0||u>=r)return;const p=n(e,u,r);i(e,u,p-1),i(e,p+1,r)}return i(t,0,t.length-1),o}function y(t){const o=[{type:"INIT",arr:[...t]}];function n(e,u,r,p){let c=u,l=r,s=r+1;if(e[l]<e[s]){o.push({type:"COMP",i1:l,i2:s,arr:[...e]});return}for(;c<=l&&s<=p;){if(o.push({type:"COMP",i1:c,i2:s,arr:[...e]}),e[c]>e[s]){let E=e[s];for(let f=s;f>c;f--)e[f]=e[f-1],o.push({type:"SWAP",i1:f,i2:f-1,arr:[...e]});e[c]=E,o.push({type:"SWAP",i1:c,i2:void 0,arr:[...e]}),s++,l++}c++}}function i(e,u,r){if(u<r){let p=Math.floor((u+r)/2);i(e,u,p),i(e,p+1,r),n(e,u,p,r)}}return i(t,0,t.length-1),o}const m={BUBBLE:{name:"Bubble Sort",sorter:S},SELECTION:{name:"Selection Sort",sorter:I},INSERTION:{name:"Insertion Sort",sorter:g},QUICK:{name:"Quick Sort",sorter:M},MERGE:{name:"Merge Sort",sorter:y}},P=20,A=400;function w(t,o,n){return Array.from({length:(o-t)/n+1},(i,e)=>t+e*n)}function N(t){if(!(t!=null&&t.length))return t;let o,n,i=t.length;for(;--i;)n=Math.floor(Math.random()*(i+1)),o=t[n],t[n]=t[i],t[i]=o;return t}function T(t,o,n){return N(w(t,o,Math.floor(o/n)))}function C(t,o){const n=T(P,A,t);return m[o].sorter(n)}onmessage=t=>{const{num:o,alg:n}=t.data,i=C(o,n);console.log(i),postMessage(i)}})();
